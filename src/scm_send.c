static __inline__ int scm_send(struct socket *sock, struct msghdr *msg,
                               struct scm_cookie *scm, bool forcecreds)
{
    memset(scm, 0, sizeof(*scm));
    scm->creds.uid = INVALID_UID;
    scm->creds.gid = INVALID_GID;
    if (forcecreds)
        scm_set_cred(scm, task_tgid(current), current_uid(), current_gid());
    unix_get_peersec_dgram(sock, scm);
    // msg->msg_controllen 은 0 보다 작거나 같아야함
    // msg->msg_controllen 은 size_t 형식이라 0 으로 세팅하면 됨
    if (msg->msg_controllen <= 0)
        return 0;
    return __scm_send(sock, msg, scm);
}